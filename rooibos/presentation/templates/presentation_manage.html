{% extends "master.html" %}
{% load ui %}
{% load humanize %}
{% load pagination_tags %}

{% block content %}

{% autopaginate presentations 25 %}

<h1>My Presentations</h1>

<div class="tagcloud">
{% for tag in tags %}
    <span style="font-size: {{ tag.font_size|scale:"1 5 1 1.8" }}em;">
        <a href="{% url presentation-manage %}?tag={{ tag|urlencode }}">{{ tag }}</a>
    </span>
{% endfor %}
{% if tags %}
    <a href="{% url presentation-manage %}">All</a>
{% endif %}
</div>

<h2>Presentations{% if tag_filter %} filed under {{ tag_filter }}{% endif %}</h2>

{% paginate %}

<form action="{% url presentation-manage %}?{{ querystring }}" method="POST">
<table>
    <tr>
        <th></th>
        <th>Title</th>
        <th>Hidden</th>
        <th>Created</th>
        <th>Modified</th>
    </tr>
{% for presentation in presentations %}
    <tr>
        <td><input type="checkbox" name="h" value="{{ presentation.id }}" /></td>
        <td><a href="{% url presentation-edit presentation.id, presentation.name %}">{{ presentation.title }}</a></td>
        <td>{{ presentation.hidden|yesno:"hidden," }}</td>
        <td>{{ presentation.created|naturalday:"M j, Y" }}</td>
        <td>{{ presentation.modified|naturalday:"M j, Y" }}</td>
    </tr>
{% empty %}
    <tr>
        <td colspan="5">
            No presentations available.
            <a href="{% url presentation-create %}?next={% url presentation-manage %}">Create new presentation</a>
        </td>
    </tr>
{% endfor %}
</table>
<input type="submit" name="hide" value="Hide" />
<input type="submit" name="unhide" value="Show" />
</form>    
    
<div>
    <a href="{% url presentation-create %}?next={% url presentation-manage %}">Create new presentation</a>
</div>

{% endblock %}