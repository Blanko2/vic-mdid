{% extends request.master_template|default:"master.html" %}

{% block javascript %}
{{ block.super }}
<script type="text/javascript" src="{% url static 'flowplayer/flowplayer-3.2.0.min.js' %}"></script>

<script type="text/javascript">
$(document).ready(function() {
    flowplayer("player", "{% url static 'flowplayer/flowplayer-3.2.0.swf' %}");
});
</script>
{% endblock %}


{% block sidebar %}
{{ block.super }}

{% if next %}
<div class="facet active-facet" id="data_record_thumbnail">
    <div class="facet-header">Record</div>
    <div class="facet-body">
        <a href="{{ next }}">Return to record</a>
    </div>
</div>
{% endif %}

{% endblock %}


{% block content %}

<h1>{{ record.title }}</h1>

{% if media.1 %}

Multiple videos available:
<ul>
    {% for m in media %}
    <li><a href=".?next={{ next|urlencode }}&video={{ forloop.counter0 }}">Video {{ forloop.counter }}:
        {% if m.width and m.height %}{{ m.width }}x{{ m.height }}{% endif %}
        {% if m.bitrate %}at {{ m.bitrate }} kbps{% endif %}
        in {{ m.storage.title }}</a>
        {% ifequal selectedmedia m %}(currently playing){% endifequal %}
    </li>
    {% endfor %}
</ul>

{% endif %}

<a href="{{ selectedmedia.get_delivery_url }}" id="player"
style="margin: 40px auto; display:block; width:{{ selectedmedia.width|default:"520" }}px; height:{{ selectedmedia.height|default:"330" }}px"></a>

{% endblock %}
